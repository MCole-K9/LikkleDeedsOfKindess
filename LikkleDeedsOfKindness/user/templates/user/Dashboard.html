{% extends 'Portal.html' %}
{% load static %} 

{% block content %}

    <h2>Dashboard</h1>
    <hr>
    <section id="dashboard" class="container">
        <div class="row">
            <div class="col-lg-4">
                <div class="card shadow card-border rounded">
                    <div class="card-body d-flex align-items-center">
                        <i class="fa-solid fa-sack-dollar" style="font-size: 50px"></i>
                        <div class="flex-grow-1">
                            <span class="small">Donations</span>
                            <h4>$ {{donation_sum}}</h4>
                        </div>
                        
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="card shadow card-border rounded">
                    <div class="card-body d-flex align-items-center">
                        <i class="fa-solid fa-dollar-sign" style="font-size: 50px"></i>
                        <div class="flex-grow-1">
                            <span class="small">Donations(This Month)</span>
                            <h4>$ {{m_donation_sum}}</h4>
                        </div>
                        
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="card shadow card-border rounded">
                    <div class="card-body d-flex align-items-center">
                        <i class="fa-solid fa-users" style="font-size: 50px"></i>
                        <div class="flex-grow-1">
                            <span class="small">Total Donors</span>
                            <h4>{{total_donors}}</h4>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>

        <h4 class="mt-4">Donations</h4>
        <div class="table-responsive" sty>
            <table class="table table-hover">
                <thead class="table-dark">
                  <tr>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Phone Number</th>
                    <th>Amount</th>
                    <th>Cause</th>
                    <th>Date</th>
                  </tr>
                </thead>
                <tbody>
                    {% for donation in donations %}
                        <tr>
                            <td>{{donation.donor}}</td>
                            <td>{{donation.donor.email}}</td>
                            <td>{{donation.donor.phone_number}}</td>
                            <td>${{donation.amount}} USD</td>
                            <td>{% if donation.cause %} {{donation.cause}} {% else %} General {% endif %}</td>
                            <td>{{donation.date|date:"d/m/Y"}}</td>
                        </tr>
                    {% endfor %}
                   
                </tbody>
              </table>
        </div>
        
    </section>
{% endblock content %}

{% block script %}

<script>
    $(document).ready(()=>{
        
        $("#dashboard").toggleClass("active");
    });
</script>
{% endblock  %}